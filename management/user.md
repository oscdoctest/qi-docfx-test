User
=======================================================



	The following code shows the JSON-serialized User object for HTTP requests and responses:

.. _UserObj: 

.. highlight:: C#

::

 {
	"Id": "id",                            //GUID for this User. Generated by the server upon Creation. Same as AAD UserId.
	"FirstName": "firstname",              //First Name for this User.
	"LastName": "lastname",                //Last Name for this User.
	"LoginName": "loginname",              //Login Name for this User.
	"ContactEmail": "contactemail",        //Contact email address for this User.
	"ContactPhone": "contactphone",        //Contact phone number for this User.
	"UPN": "upn",                          //Principal unique name for this User.
	"Password": "password",                //Password for this User. Sent via contact email when first created.
	"Roles": [],                           //List of Roles for this User. Returned during get calls and can be specified during creation to add the Roles to the new User by Role.Id.
	"Preferences": "preferences"           //A JSON string object denoting user preferences for the OCS portal
 }

``Get()``
--------------------------------------------------------------------

Returns a user in an account.

**Http**

::

	GET api/Tenants/{tenantId}/Users/{userId}

**Parameters**

``String tenantId``
	The identifier for the account in which the user belongs
``String userId``
	The identifier for the user

**Security**
	Allowed by Account Member and Account Administrator :ref:`Roles <RoleObj>`

**Returns**
	The :ref:`User <UserObj>` with the specified userId



|

**********************

``GetAll()``
--------------------------------------------------------------------

Returns a list of all users in an account.

**Http**

::

	GET api/Tenants/{tenantId}/Users

**Parameters**

``String tenantId``
	The identifier for the account

**Security**
	Allowed by Account Administrator :ref:`Role <RoleObj>`

**Returns**
	An array of :ref:`User <UserObj>` objects belonging to the account with the specified tenantId



|

**********************

``Create()``
--------------------------------------------------------------------

Create a User for an account.

**Http**

::

	POST api/Tenants/{tenantId}/Users/

**Parameters**

``String tenantId``
	The identifier for the account
``CreateUser user``
	:ref:`CreateUser <CreateUserObj>` object for this request

**Security**
	Allowed by Account Administrator :ref:`Role <RoleObj>`

**Returns**
	The created :ref:`User <UserObj>`

**Notes**
	For HTTP requests and responses, the JSON serialized CreateUser object Looks like:

.. _CreateUserObj: 

.. highlight:: C#

::

 {
	"SendNotification": null,              //Boolean specifying whether an email should be sent to the new user's account.
	"Id": "id",                            //GUID for this User. Generated by the server upon Creation. Same as AAD UserId.
	"FirstName": "firstname",              //First Name for this User.
	"LastName": "lastname",                //Last Name for this User.
	"LoginName": "loginname",              //Login Name for this User.
	"ContactEmail": "contactemail",        //Contact email address for this User.
	"ContactPhone": "contactphone",        //Contact phone number for this User.
	"UPN": "upn",                          //Principal unique name for this User.
	"Password": "password",                //Password for this User. Sent via contact email when first created.
	"Roles": [],                           //List of Roles for this User. Returned during get calls and can be specified during creation to add the Roles to the new User by Role.Id.
	"Preferences": "preferences"           //A JSON string object denoting user preferences for the OCS portal
 }



|

**********************

``Update()``
--------------------------------------------------------------------

Updates a specified user.

**Http**

::

	PUT api/Tenants/{tenantId}/Users/{userId}

**Parameters**

``String tenantId``
	The identifier for the account in which the user belongs
``String userId``
	The user identifier for the request
``User user``
	The :ref:`User <UserObj>` to be updated

**Security**
	Cluster Operator, Account Administrator, or Account Member (self).

**Returns**
	The updated :ref:`User <UserObj>`



|

**********************

``Delete()``
--------------------------------------------------------------------

Delete a specified user.

**Http**

::

	DELETE api/Tenants/{tenantId}/Users/{userId}

**Parameters**

``String tenantId``
	The identifier for the account in which the user belongs
``String userId``
	The :ref:`User <UserObj>` to be deleted

**Security**
	Allowed by Account Administrator :ref:`Role <RoleObj>`

**Returns**
	Nothing is returned



|

**********************

``ResetUserPassword()``
--------------------------------------------------------------------

Resets the password for the specified user.

**Http**

::

	POST api/Tenants/{tenantId}/Users/{userId}/PasswordReset

**Parameters**

``String tenantId``
	The identifier for the account in which the user belongs
``String userId``
	The identifier of the :ref:`User <UserObj>` whose password is to be reset

**Security**
	Account admin, Cluster Operator, or User on self.

**Returns**
	Nothing is returned



|

**********************

``GetAllRolesForUser()``
--------------------------------------------------------------------

Retrieves all roles for the specified user.

**Http**

::

	GET api/Tenants/{tenantId}/Users/{userId}/Roles

**Parameters**

``String tenantId``
	The identifier for the account in which the user belongs
``String userId``
	The identifier of the :ref:`User <UserObj>` whose roles will be retrieved
``String skip``
	Number of :ref:`Role <RoleObj>` to ignore
``String count``
	Number of :ref:`Role <RoleObj>` to be returned
``String query``
	Unsupported parameter

**Security**
	Allowed by Account Member and Account Administrator :ref:`Roles <RoleObj>`

**Returns**
	An array of :ref:`Role <RoleObj>` objects belonging to the user with the specified userId



|

**********************

``AddAccountRoleToUser()``
--------------------------------------------------------------------

Adds an account role to the specified user.

**Http**

::

	PUT api/Tenants/{tenantId}/Users/{userId}/Roles/{roleId}

**Parameters**

``String tenantId``
	The identifier for the account in which the user belongs
``String userId``
	The identifier of the :ref:`User <UserObj>` who will be given the role
``String roleId``
	The identifier of the role to add to the :ref:`User <UserObj>`

**Security**
	Allowed by Account Administrator :ref:`Role <RoleObj>`

**Returns**
	The :ref:`Role <RoleObj>` with the specified roleId



|

**********************

``RemoveAccountRoleFromUser()``
--------------------------------------------------------------------

Removes a role from a user.

**Http**

::

	DELETE api/Tenants/{tenantId}/Users/{userId}/Roles/{roleId}

**Parameters**

``String tenantId``
	The identifier for the account in which the user belongs
``String userId``
	The identifier of the :ref:`User <UserObj>` whose role will be removed
``String roleId``
	The identifier of the role to remove from the :ref:`User <UserObj>`

**Security**
	Allowed by Account Administrator :ref:`Role <RoleObj>`

**Returns**
	Nothing is returned



|

**********************

``ReplaceUserRoles()``
--------------------------------------------------------------------

Replace the roles of a user with a new list of roles.

**Http**

::

	PUT api/Tenants/{tenantId}/Users/{userId}/Roles

**Parameters**

``String tenantId``
	The identifier for the account in which the user belongs
``String userId``
	The identifier of the :ref:`User <UserObj>` whose roles will be replaced
``List`1 newRoles``
	From the body. An array of :ref:`Role <RoleObj>` objects to set as the Roles for the specified user 

**Security**
	Allowed by Account Administrator and Community Lead :ref:`Roles <RoleObj>`

**Returns**
	An array of all :ref:`Role <RoleObj>` objects assigned to the user specified by userId after the replacement operation is complete



|

**********************

``GetUserPrefs()``
--------------------------------------------------------------------

Gets OCS Portal Preferences for a specific user

**Http**

::

	GET api/Tenants/{tenantId}/Users/{userId}/Preferences

**Parameters**

``String tenantId``
	The identifier for the account in which the user belongs
``String userId``
	The identifier of the :ref:`User <UserObj>` whose roles will be replaced

**Security**
	Allowed by Account Member :ref:`Role <RoleObj>`

**Returns**
	The JSON representation of user preferences



|

**********************

``UpdateUserPrefs()``
--------------------------------------------------------------------

Updates OCS Portal Preferences for a specific user

**Http**

::

	PUT api/Tenants/{tenantId}/Users/{userId}/Preferences

**Parameters**

``String tenantId``
	The identifier for the account in which the user belongs
``String userId``
	The identifier of the :ref:`User <UserObj>` whose roles will be replaced
``String preferences``
	JSON representation of user preferences used in the OCS portal

**Security**
	Allowed by Account Member :ref:`Role <RoleObj>`

**Returns**
	Updated JSON representation of user preferences



|

**********************

``GetExternalUsers()``
--------------------------------------------------------------------

Returns a list of Azure Active Directory users that are not member of this account

**Http**

::

	GET api/Tenants/{tenantId}/externalusers

**Parameters**

``String tenantId``
	The identifier for the account
``String skip``
	Number of users to skip for paging purposes.
``String count``
	Maximum number of users to return in this page.
``String query``
	Prefix match to filter users by, can be first name, last name, or email address.

**Security**
	Allowed by Account Administrator :ref:`Role <RoleObj>`

**Returns**
	An array of :ref:`User <UserObj>` objects that could be added to this account.



|

**********************


